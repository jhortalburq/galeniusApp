<mdb-progress-bar *ngIf="disabled" class="progress primary-color-dark" mode="indeterminate"></mdb-progress-bar>

    <div class="container">

        <div class="row mt-4">

            <div class="col-xs-12 col-sm-12">

                <div class="titulo_seccion">I. EXPOSICIÓN AL RIESGO</div>
                
            </div>
        </div>

        <div class="form-row">
            <div class="col-xs-12 col-sm-12">
                <table class="table table-sm  table-borderless">
                    <tr>
                        <th class="text-center">Tipo de Actividad</th>
                        <td colspan="5" class="horizontal">
                            <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="tipo_actividad_1" name="tipo_actividad" [(ngModel)]="registro.tipo_actividad" value="Levanta" mdbInput>
                                <label class="custom-control-label" for="tipo_actividad_1">Levanta</label>
                            </div>
                            <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="tipo_actividad_2" name="tipo_actividad" [(ngModel)]="registro.tipo_actividad" value="Coloca" mdbInput>
                                <label class="custom-control-label" for="tipo_actividad_2">Coloca</label>
                            </div>
                            <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="tipo_actividad_3" name="tipo_actividad" [(ngModel)]="registro.tipo_actividad" value="Empuja" mdbInput>
                                <label class="custom-control-label" for="tipo_actividad_3">Empuja</label>
                            </div>
                            <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="tipo_actividad_4" name="tipo_actividad" [(ngModel)]="registro.tipo_actividad" value="Tracciona" mdbInput>
                                <label class="custom-control-label" for="tipo_actividad_4">Tracciona</label>
                            </div>
                            <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="tipo_actividad_5" name="tipo_actividad" [(ngModel)]="registro.tipo_actividad" value="Desplaza" mdbInput>
                                <label class="custom-control-label" for="tipo_actividad_5">Desplaza</label>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th class="text-center">Es Repetitivo?</th>
                        <td>
                            <mdb-checkbox [(ngModel)]="registro.repetitivo"> </mdb-checkbox> 
                        </td>
                        <td>Con que Frecuencia?</td>
                        <th class="text-center">
                            <input mdbInput type="text" id="frecuencia" class="form-control form-control-sm" [(ngModel)]="registro.frecuencia" >
                        </th>
                        <th class="text-center">Horas/Día</th>
                        <td>
                            <input mdbInput type="text" id="horas_dia" class="form-control form-control-sm" [(ngModel)]="registro.horas_dia">
                        </td>
                    </tr>
                    <tr>
                        <th class="text-center">Riesgo</th>
                        <td colspan="5" class="horizontal">
                            <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="riesgo_1" name="riesgo" [(ngModel)]="registro.riesgo" value="Mínimo" mdbInput>
                                <label class="custom-control-label" for="riesgo_1">Mínimo</label>
                            </div>
                            <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="riesgo_2" name="riesgo" [(ngModel)]="registro.riesgo" value="Mediano" mdbInput>
                                <label class="custom-control-label" for="riesgo_2">Mediano</label>
                            </div>
                            <div class="custom-control custom-radio custom-control-inline">
                                <input type="radio" class="custom-control-input" id="riesgo_3" name="riesgo" [(ngModel)]="registro.riesgo" value="Alto" mdbInput>
                                <label class="custom-control-label" for="riesgo_3">Alto</label>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th class="text-center">Tiempo de Permanencia (en años)</th>
                        <td>
                            <input mdbInput type="text" id="permanencia" class="form-control form-control-sm" [(ngModel)]="registro.permanencia">
                        </td>
                        <th class="text-center">
                            Tiempo de Exposición (Horas/Día)
                        </th>
                        <td>
                            <input mdbInput type="text" id="exposicion_1" class="form-control form-control-sm" [(ngModel)]="registro.exposicion_1">
                        </td>
                        <th class="text-center">
                            Tiempo de Exposición (Días/Semana)
                        </th>
                        <td>
                            <input mdbInput type="text" id="exposicion_2" class="form-control form-control-sm" [(ngModel)]="registro.exposicion_2">
                        </td>
                    </tr>
                </table>
            </div>
        </div>

        <div class="row">

            <div class="col-xs-12 col-sm-12">

                <div class="titulo_seccion">II. DESCRIPCIÓN DEL PUESTO</div>
                
            </div>
        </div>

        <div class="form-row">
                <div class="col-xs-12 col-sm-12">
                    <table class="table table-sm">
                            <thead>

                                <tr class="mdb-color darken-3 white-text">
                                    <th class="text-center">Descripción</th>
                                    <th class="text-center">Si</th>
                                    <th class="text-center">No</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <th colspan="3">1. Descripción de la Carga</th>
                                </tr>
                                <tr>
                                    <td colspan="3">
                                        Peso (en kg) entre <input mdbInput type="text" id="id_carga_inicial" class="text-center" [(ngModel)]="registro.carga_inicial"> kg y  <input mdbInput type="text" id="id_final" class="text-center" [(ngModel)]="registro.carga_final"> kg
                                    </td>
                                </tr>

                                <tr *ngFor="let item of registro.seccion_1; let i = index">
                                    <td>
                                        {{ item.nombre_pregunta }}
                                    </td>
                                    <td class="text-center">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="q1_{{ i }}_1" name="q1_{{ i }}" [(ngModel)]="item.respuesta" value="Si" mdbInput>
                                            <label class="custom-control-label" for="q1_{{ i }}_1"></label>
                                        </div>
                                    </td>
                                    <td class="text-center">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="q1_{{ i }}_2" name="q1_{{ i }}" [(ngModel)]="item.respuesta" value="No" mdbInput>
                                            <label class="custom-control-label" for="q1_{{ i }}_2"></label>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <th colspan="3">2. Esfuerzo físico necesario</th>
                                </tr>
                                <tr *ngFor="let item of registro.seccion_2; let i = index">
                                    <td>
                                        {{ item.nombre_pregunta }}
                                    </td>
                                    <td class="text-center">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="q2_{{ i }}_1" name="q2_{{ i }}" [(ngModel)]="item.respuesta" value="Si" mdbInput>
                                            <label class="custom-control-label" for="q2_{{ i }}_1"></label>
                                        </div>
                                    </td>
                                    <td class="text-center">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="q2_{{ i }}_2" name="q2_{{ i }}" [(ngModel)]="item.respuesta" value="No" mdbInput>
                                            <label class="custom-control-label" for="q2_{{ i }}_2"></label>
                                        </div>
                                    </td>
                                </tr>

                                <tr>
                                    <th colspan="3">3. Medio de trabajo</th>
                                </tr>

                                <tr *ngFor="let item of registro.seccion_3; let i = index">
                                    <td>
                                        {{ item.nombre_pregunta }}
                                    </td>
                                    <td class="text-center">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="q3_{{ i }}_1" name="q3_{{ i }}" [(ngModel)]="item.respuesta" value="Si" mdbInput>
                                            <label class="custom-control-label" for="q3_{{ i }}_1"></label>
                                        </div>
                                    </td>
                                    <td class="text-center">
                                        <div class="custom-control custom-radio">
                                            <input type="radio" class="custom-control-input" id="q3_{{ i }}_2" name="q3_{{ i }}" [(ngModel)]="item.respuesta" value="No" mdbInput>
                                            <label class="custom-control-label" for="q3_{{ i }}_2"></label>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                </div>
        </div>

        <div class="row">

            <div class="col-xs-12 col-sm-12">

                <div class="titulo_seccion">III. MEDIDAS DE PROTECCIÓN</div>
                
            </div>
        </div>

        <div class="form-row">
            <div class="col-xs-12 col-sm-12">
                    <table class="table table-sm">
                        <thead>

                            <tr class="mdb-color darken-3 white-text">
                                <th class="text-center"></th>
                                <th class="text-center">Descripción</th>
                                <th class="text-center">Siempre</th>
                                <th class="text-center">A veces</th>
                                <th class="text-center">Nunca</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of registro.seccion_4; let i = index">
                                <td class="text-center">
                                    {{ i + 1}}
                                </td>
                                <td>
                                    {{ item.nombre_pregunta }}
                                </td>
                                <td class="text-center">
                                    <div class="custom-control custom-radio">
                                        <input type="radio" class="custom-control-input" id="q4_{{ i }}_1" name="q4_{{ i }}" [(ngModel)]="item.respuesta" value="Siempre" mdbInput>
                                        <label class="custom-control-label" for="q4_{{ i }}_1"></label>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <div class="custom-control custom-radio">
                                        <input type="radio" class="custom-control-input" id="q4_{{ i }}_2" name="q4_{{ i }}" [(ngModel)]="item.respuesta" value="A Veces" mdbInput>
                                        <label class="custom-control-label" for="q4_{{ i }}_2"></label>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <div class="custom-control custom-radio">
                                        <input type="radio" class="custom-control-input" id="q4_{{ i }}_3" name="q4_{{ i }}" [(ngModel)]="item.respuesta" value="Nunca" mdbInput>
                                        <label class="custom-control-label" for="q4_{{ i }}_3"></label>
                                    </div>
                                </td>
                            </tr>                            
                        </tbody>
                    </table>
            </div>
        </div>
        <div class="form-row mt-3">
            <div class="col-sm-2">
                <div class="md-form form-sm">
                    <input mdbInput type="text" id="fecha_examen" class="form-control form-control-sm" [(ngModel)]="registro.fecha_orden" disabled>
                    <label for="fecha_examen" class="">Fecha de Evaluación</label>
                </div>
            </div>

            <div class="col-sm-4">
                <label class="mdb-main-label">Médico Evaluador</label>
                <select2 [data]="options_responsables" [(ngModel)]="registro.responsable">
                </select2>
            </div>

        </div>
       
        <div class="row mt-4">
            <div class="col-sm-12  d-flex justify-content-center">
                <button mdbBtn size="sm" type="cancel" color="danger" (click)="regresar()">Regresar</button>
                <button mdbBtn size="sm" type="submit" (click)="onSubmit()" [disabled]="disabled" color="primary" class="waves-light" mdbWavesEffect>Continuar</button>
            </div>
        </div>
</div>