<mdb-progress-bar *ngIf="disabled" class="progress primary-color-dark" mode="indeterminate"></mdb-progress-bar>

    <div class="container">

        <div class="row mt-4">

            <div class="col-xs-12 col-sm-12">

                <div class="main_titulo">
                    <h5>CUESTIONARIO DERMATOLÓGICO</h5>
                </div>
                
            </div>
        </div>

        <div class="form-row mt-3">
            <div class="col-xs-12 col-sm-12">
                <table class="table table-sm">
                    <thead>

                        <tr class="mdb-color darken-3 white-text">
                                <th class="text-center"></th>
                                <th class="text-center" colspan="2">Pregunta</th>
                                <th class="text-center"></th>
                                <th class="text-center">Si</th>
                                <th class="text-center">No</th>
                            </tr>
                        </thead>
                        <tbody> 
                            <ng-container *ngFor="let item of registro.cuestionario; let i = index">

                            <tr>
                                <td class="text-center">{{ i+1 }}</td>
                                <td colspan="2">{{ item.nombre_pregunta }}</td>
                                <td></td>
                                <td class="text-center" *ngFor="let radio of options_no_si; let j = index">
                                    <div class="custom-control custom-radio">
                                        <input type="radio" class="custom-control-input" id="q1_{{ i }}_{{ j }}" name="q1_{{ i }}" [(ngModel)]="item.respuesta" [value]="radio.value" mdbInput>
                                        <label class="custom-control-label" for="q1_{{ i }}_{{ j }}"></label>
                                    </div>
                                </td>
                            </tr>
                            
                            <tr *ngFor="let inline of item.detalle; let j = index">
                                <td class="text-center"></td>
                                <td>{{ inline.nombre_inline }}</td>
                                <td class="text-center" >
                                    <input mdbInput type="text" id="detalle_{{ i }}_{{ j }}" class="form-control form-control-sm" [(ngModel)]="inline.respuesta">
                                </td>

                                <td></td>
                                <td></td>
                            </tr>

                            </ng-container>

                        </tbody>
                </table>
            </div>
        </div>

        <div class="row mt-3">

            <div class="col-xs-12 col-sm-12">

                <div class="titulo_seccion">CONCLUSIONES DEL CUESTIONARIO</div>
                
            </div>

        </div>

        <div class="form-row mt-n2">
            <div class="col-sm-4">
                <div class="md-form form-sm">
                    <textarea mdbInput type="text" id="recomendaciones" class="md-textarea form-control" [(ngModel)]="registro.recomendaciones"></textarea>
                    <label for="recomendaciones">Recomendaciones</label>
                </div>
            </div>
            <div class="col-sm-4">
                <div class="md-form form-sm">
                    <textarea mdbInput type="text" id="conclusiones" class="md-textarea form-control form-control-sm" [(ngModel)]="registro.conclusiones"></textarea>
                    <label for="conclusiones">Conclusiones</label>
                </div>
            </div>
           
        </div>

        <div class="form-row mt-1">
            <div class="col-sm-2">
                <div class="md-form form-sm">
                    <input mdbInput type="text" id="fecha_examen" class="form-control form-control-sm" [(ngModel)]="registro.fecha_orden" disabled>
                    <label for="fecha_examen" class="">Fecha de Evaluación</label>
                </div>
            </div>

            <div class="col-sm-4">
                <label class="mdb-main-label">Médico Evaluador</label>
                <select2 [data]="options_responsables" [(ngModel)]="registro.responsable">
                </select2>
            </div>

        </div>

        <div class="row mt-4">
            <div class="col-sm-12  d-flex justify-content-center">
                <button mdbBtn size="sm" type="cancel" color="danger" (click)="regresar()">Regresar</button>
                <button mdbBtn size="sm" type="submit" (click)="onSubmit()" [disabled]="disabled" color="primary" class="waves-light" mdbWavesEffect>Continuar</button>
            </div>
        </div>
</div>